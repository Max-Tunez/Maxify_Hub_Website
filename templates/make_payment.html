{% extends "base.html" %}
{% block title %}
Make Payment
{% endblock title %}

{% load static %}

{% block body %}

<script src="https://js.paystack.co/v1/inline.js"></script>
<button type="button" onclick="payWithPaystack()"> Click to pay with 'CARD' or 'BANK TRANSFERS' </button>
<script>
    function payWithPaystack() {
        var handler = PaystackPop.setup({
            key: '{{ paystack_public_key }}',
            email: '{{ payment.email }}',
            amount: {{ payment.amount }},
            ref: '{{ payment.ref }}',
            onClose: function(){
                alert('Window closed.');
            },
            callback: function(response){
                var reference = response.reference;
                window.location.href = "{% url 'verify_payment' payment.ref %}";
            }
        });
        handler.openIframe();
    }
</script>


{% endblock body %}

{% block footer %}
<!-- Footer Section -->
<footer class="bg-light text-white pt-5 pb-4">
    <div class="container text-center text-md-left">
        <div class="row text-center text-md-left">
        <!-- Copyright -->
        <div class="row">
            <div class="col-md-12 col-lg-12">
                <div class="text-center text-md-center mt-4">
                    <p class="text-primary">&copy; 2025 MAXIFY HUB. All rights reserved.</p>
                    <p class="text-primary">Developed by: Maximus .I. David</p>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- Add FontAwesome and Bootstrap CSS and JS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/5.0.2/css/bootstrap.min.css" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/5.0.2/js/bootstrap.bundle.min.js"></script>

{% endblock footer %}