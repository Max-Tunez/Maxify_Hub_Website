{% extends "base.html" %}
{% block title %}
Your Dashboard
{% endblock title %}

{% block Dashboard %}
active
{% endblock Dashboard %}
{% load static %}

{% block body %}
{% include "messages.html" %}
<div class="container mt-2">
    <h1 class="text-center text-primary"> {{user.first_name}} Welcome to your Dashboard</h1>
    <p>Here, you can access any other information about your activity.</p>

    <br>

    <p>Click on the 'attendance' menu above to fill you your attendance after each class. </p>

    <br>

    <h3 class="text-center text-danger">To make Payment, Please Pay into the account below and send proof of payment to the phone number below</h3>
    <p class="text-center text-success"><b>Account Number: 8130407137 <br> <b>Account Name: Maxify Hub <br> <b>Bank Name: Moniepoint</b> <br> <b>Phone Number: +234 808 7977 938</b></b></b></p>
    <a href="/auth/initiate-payment/"><h4>Click Here to Pay Online</h4></a>

    <div class="row">

        <div class="col-md-3">
            <div><a href="/" class="btn btn-outline-primary">Go Back</a></div>

        </div>

        {% for d in details %}
        <div class="col-md-7">
            {% include "messages.html" %}
            <div class="card p-3">

                <div class="card body">

                    <h5>candidate Id : <b> {{d.candidateId}} </b> </h5>
                    <hr />
                    <h5>Course : <b> {{d.course}} </b> </h5>
                    <hr />
                    <h5>Enrollment Date : <b> {{d.timestamp}} </b> </h5>
                    <hr />

                    <hr>
                    <h3 class="bg-success">Trainer Assigned : {{d.trainer}} </h3>
                    <hr>
                    <h2 class="text-center bg-primary">Payment Status</h2>
                    <hr>
                    <h4>Amount Paid : {{status.amount}} </h4>
                    <h4>Amount Balance : {{status.balance}} </h4>
                    <h4>Payment Status : {{status.paymentstatus}} </h4>

                </div>
            </div>
        </div>

        {% endfor %}
    </div>
</div>


<!-- For Attendance -->

<div class="container mt-2">
    <hr>
    <h1 class="text-center bg-primary">Attendance Status</h1>
    <hr>
    <table class="table">
        <thead class="thead primary">
            <tr class="table-dark">
                <th scope="col">Name</th>
                <th scope="col">Date</th>
                <th scope="col">Login Time</th>
                <th scope="col">Logout Time</th>
                <th scope="col">Approved Status</th>
            </tr>
        </thead>
        <tbody>

            {% for a in attendanceStats %}
            <tr class="table-success">
                <td>{{a.name}}</td>
                <td>{{a.date}}</td>
                <td>{{a.logintime}}</td>
                <td>{{a.logouttime}}</td>

                {% if a.approved %}
                <td><i class="fa-solid fa-thumbs-up"></i>Approved</td>
                {% else %}
                <td><i class="fa-solid fa-circle-xmark"></i>Not Approved</td>
                {% endif %}

            </tr>

            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock body %}


{% block footer %}
<!-- Footer Section -->
<footer class="bg-light text-white pt-5 pb-4">
    <div class="container text-center text-md-left">
        <div class="row text-center text-md-left">
        <!-- Copyright -->
        <div class="row">
            <div class="col-md-12 col-lg-12">
                <div class="text-center text-md-center mt-4">
                    <p class="text-primary">&copy; 2025 MAXIFY HUB. All rights reserved.</p>
                    <p class="text-primary">Developed by: Maximus .I. David</p>
                </div>
            </div>
        </div>
    </div>
</footer>

<!-- Add FontAwesome and Bootstrap CSS and JS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/5.0.2/css/bootstrap.min.css" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/5.0.2/js/bootstrap.bundle.min.js"></script>

{% endblock footer %}